(window.webpackJsonp=window.webpackJsonp||[]).push([[2,3],{"./README.mdx":function(e,n,t){"use strict";t.r(n);var a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=t("./node_modules/react/index.js"),b=t.n(i),r=t("./node_modules/@mdx-js/react/dist/esm.js"),s=t("./node_modules/docz/dist/index.esm.js"),l=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),o=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),p=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),j=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(p.a)(n,e),n}(b.a.Component);"undefined"!==typeof j&&j&&j===Object(j)&&Object.isExtensible(j)&&Object.defineProperty(j,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IGuardConfig",filename:"__tests__/Doc.tsx"}});var d=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(p.a)(n,e),n}(b.a.Component);"undefined"!==typeof d&&d&&d===Object(d)&&Object.isExtensible(d)&&Object.defineProperty(d,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IYAPIConfig",filename:"__tests__/Doc.tsx"}});var m=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(p.a)(n,e),n}(b.a.Component);"undefined"!==typeof m&&m&&m===Object(m)&&Object.isExtensible(m)&&Object.defineProperty(m,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ISwaggerParser",filename:"__tests__/Doc.tsx"}});var u=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(p.a)(n,e),n}(b.a.Component);"undefined"!==typeof u&&u&&u===Object(u)&&Object.isExtensible(u)&&Object.defineProperty(u,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IJson2Service",filename:"__tests__/Doc.tsx"}});var O=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(p.a)(n,e),n}(b.a.Component);"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IRequest",filename:"__tests__/Doc.tsx"}});var g=function(e){function n(){return Object(l.a)(this,n),Object(o.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(p.a)(n,e),n}(b.a.Component);"undefined"!==typeof g&&g&&g===Object(g)&&Object.isExtensible(g)&&Object.defineProperty(g,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"ISwaggerConfig",filename:"__tests__/Doc.tsx"}});var h=t("./update.md");t.d(n,"default",(function(){return C}));var f={},N="wrapper";function C(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(r.b)(N,Object.assign({},f,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"npm-i--d-sm2tsservice"},Object(r.b)("inlineCode",{parentName:"h1"},"npm i -D sm2tsservice")),Object(r.b)("p",null,"\u6839\u636e swagger \u6216\u8005 yapi mock json \u751f\u6210 typescript service \u4ee3\u7801"),Object(r.b)(h.default,{mdxType:"Update"}),Object(r.b)("hr",null),Object(r.b)("h2",{id:"1-cli"},"1. CLI"),Object(r.b)("h2",{id:"11-\u914d\u7f6e\u6587\u4ef6"},"1.1 \u914d\u7f6e\u6587\u4ef6"),Object(r.b)("p",null,"edit ",Object(r.b)("inlineCode",{parentName:"p"},"json2service.json"),"\uff0c\u4e5f\u53ef\u7528 ",Object(r.b)("inlineCode",{parentName:"p"},"xxx.js"),"\uff0c\u7136\u540e\u914d\u7f6e ",Object(r.b)("inlineCode",{parentName:"p"},"-c xxx.js")),Object(r.b)("h2",{id:"111-cli-\u914d\u7f6e"},"1.1.1 CLI \u914d\u7f6e"),Object(r.b)(s.c,{of:u,mdxType:"Props"}),Object(r.b)("h2",{id:"112-swaggerparser"},"1.1.2 ",Object(r.b)("inlineCode",{parentName:"h2"},"swaggerParser")),Object(r.b)(s.c,{of:m,mdxType:"Props"}),Object(r.b)("h2",{id:"113-guardconfig"},"1.1.3 ",Object(r.b)("inlineCode",{parentName:"h2"},"guardConfig")),Object(r.b)(s.c,{of:j,mdxType:"Props"}),Object(r.b)("h2",{id:"124-yapiconfig"},"1.2.4 ",Object(r.b)("inlineCode",{parentName:"h2"},"yapiConfig")),Object(r.b)(s.c,{of:d,mdxType:"Props"}),Object(r.b)("h2",{id:"124-requestconfig"},"1.2.4 ",Object(r.b)("inlineCode",{parentName:"h2"},"requestConfig")),Object(r.b)(s.c,{of:O,mdxType:"Props"}),Object(r.b)("h2",{id:"125-swaggerconfig"},"1.2.5 ",Object(r.b)("inlineCode",{parentName:"h2"},"swaggerConfig")),Object(r.b)(s.c,{of:g,mdxType:"Props"}),Object(r.b)("h2",{id:"12-example"},"1.2 Example"),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-json"}),'{\n  "url": "./api.json", // \u6587\u4ef6\u8def\u5f84\n  "remoteUrl": "http://**", // url\n  "requestConfig": {\n    "url": "./api.json" // \u6587\u4ef6\u8def\u5f84\u6216url\n    // \u4ee5\u4e0b\u6240\u6709 request \u652f\u6301\u7684\u53c2\u6570\n    // headers?: Headers;\n    // baseUrl?: string;\n    // callback?: RequestCallback;\n    // jar?: CookieJar | boolean;\n    // formData?: { [key: string]: any };\n    // form?: { [key: string]: any } | string;\n    // auth?: AuthOptions;\n    // oauth?: OAuthOptions;\n    // aws?: AWSOptions;\n    // hawk?: HawkOptions;\n    // qs?: any;\n    // qsStringifyOptions?: any;\n    // qsParseOptions?: any;\n    // json?: any;\n    // jsonReviver?: (key: string, value: any) => any;\n    // jsonReplacer?: (key: string, value: any) => any;\n    // multipart?: RequestPart[] | Multipart;\n    // agent?: http.Agent | https.Agent;\n    // agentOptions?: http.AgentOptions | https.AgentOptions;\n    // agentClass?: any;\n    // forever?: any;\n    // host?: string;\n    // port?: number;\n    // method?: string;\n    // body?: any;\n    // family?: 4 | 6;\n    // followRedirect?: boolean | ((response: http.IncomingMessage) => boolean);\n    // followAllRedirects?: boolean;\n    // followOriginalHttpMethod?: boolean;\n    // maxRedirects?: number;\n    // removeRefererHeader?: boolean;\n    // encoding?: string | null;\n    // pool?: any;\n    // timeout?: number;\n    // localAddress?: string;\n    // proxy?: any;\n    // tunnel?: boolean;\n    // strictSSL?: boolean;\n    // rejectUnauthorized?: boolean;\n    // time?: boolean;\n    // gzip?: boolean;\n    // preambleCRLF?: boolean;\n    // postambleCRLF?: boolean;\n    // withCredentials?: boolean;\n    // key?: Buffer;\n    // cert?: Buffer;\n    // passphrase?: string;\n    // ca?: string | Buffer | string[] | Buffer[];\n    // har?: HttpArchiveRequest;\n    // useQuerystring?: boolean;\n  },\n  "type": "yapi",\n  "yapiConfig": {\n    "required": false,\n    "bodyJsonRequired": false,\n    "categoryMap": {\n      "\u4e2d\u6587": "English" // yapi \u63a5\u53e3\u5206\u7c7b\u4e2d\u82f1\u6587\u6620\u5c04\n    }\n  },\n  "swaggerParser": {\n    "-o": "tmp/services"\n  },\n  "validateResponse": false, // \u662f\u5426\u751f\u6210\u6821\u9a8c\u903b\u8f91\n  "guardConfig": {\n    // + strict \u4e25\u683c\u6a21\u5f0f\n    //    - \u6821\u9a8c swagger tags\u3010yapi \u63a5\u53e3\u5206\u7c7b\u3011\u662f\u5426\u662f\u7eaf\u82f1\u6587\n    //    - \u65b9\u6cd5\u540d\u4f7f\u7528 http method + url \u9a7c\u5cf0\u5f62\u5f0f\n    //    - \u65b0\u9879\u76ee\u91c7\u7528\n    // + safe \u5b89\u5168\u6a21\u5f0f\n    //    - \u65b9\u6cd5\u540d\u4f7f\u7528 http method + url \u9a7c\u5cf0\u5f62\u5f0f\n    //    - \u8001\u9879\u76ee\u5347\u7ea7\uff0c\u4e0d\u4f1a\u6821\u9a8c tags\uff0c\u4f1a\u751f\u6210\u65b9\u6cd5\u8c03\u7528\u66ff\u6362\u6620\u5c04\u8868\n    // + \u9ed8\u8ba4\n    //    - http method + url => operationId \u6620\u5c04\u9501\u5b9a\n    //    - \u8001\u9879\u76ee\u7ef4\u6301\u73b0\u72b6\n    "mode": "strict",\n    // swagger \u5904\u7406\u91cd\u590d operationId \u903b\u8f91\u6709\u98ce\u9669\uff0c\u56e0\u6b64\u9700\u8981\u9501\u5b9a\u6620\u5c04\u5173\u7cfb\n    "methodUrl2OperationIdMap": {\n      "get /api/xxx/xxx": "operationId"\n    }\n  }\n}\n')),Object(r.b)("h2",{id:"13-\u751f\u6210-service-\u4ee3\u7801"},"1.3 \u751f\u6210 service \u4ee3\u7801"),Object(r.b)("h3",{id:"\u547d\u4ee4\u884c"},"\u547d\u4ee4\u884c"),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-shell"}),"  ./node_modules/.bin/sm2tsservice # \u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\n  ./node_modules/.bin/sm2tsservice -c config.json # \u6307\u5b9a\u914d\u7f6e\u6587\u4ef6\n  ./node_modules/.bin/sm2tsservice --clear # \u6e05\u7a7a\u4e0a\u6b21\u751f\u6210\u4ea7\u7269\n")),Object(r.b)("h3",{id:"npm-run"},"npm run"),Object(r.b)("p",null,"\u5199\u5165 ",Object(r.b)("inlineCode",{parentName:"p"},"package.json"),"\uff0c\u901a\u8fc7 ",Object(r.b)("inlineCode",{parentName:"p"},"npm run api")," \u4f7f\u7528"),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-json"}),'{\n  "scripts": {\n    "api": "sm2tsservice --clear"\n  }\n}\n')),Object(r.b)("h2",{id:"2-ajax-\u63a5\u53e3"},"2. ajax \u63a5\u53e3"),Object(r.b)("p",null,"\u5b9e\u73b0 ajax \u7c7b\u3010\u5982\u679c\u4f7f\u7528\u7684 axios\uff0c\u4e14\u540e\u7aef\u8fd4\u56de\u6570\u636e\u7ed3\u6784\u9075\u5faa ",Object(r.b)("inlineCode",{parentName:"p"},"{ code?:number;message?:string;result: any }"),"\u3011"),Object(r.b)("p",null,Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://www.npmjs.com/package/tkit-ajax"}),"\u8be6\u60c5 tkit-ajax")),Object(r.b)("h2",{id:"3-\u589e\u91cf\u66f4\u65b0"},"3. \u589e\u91cf\u66f4\u65b0"),Object(r.b)("p",null,"\u81ea @3.1.","*"," \u7248\u672c\u8d77\uff0c\u652f\u6301\u589e\u91cf\u66f4\u65b0"),Object(r.b)("h3",{id:"\u6d41\u7a0b"},"\u6d41\u7a0b"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"\u914d\u7f6e\u6587\u4ef6\u53d8\u66f4",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"url - \u5fc5\u987b\u6307\u5411\u672c\u5730 swagger \u6587\u4ef6\u3010\u5982\u6587\u4ef6\u4e0d\u5b58\u5728\uff0c\u5728\u83b7\u53d6 remoteUrl \u6307\u5b9a\u5730\u5740\u5185\u5bb9\u540e\uff0c\u521b\u5efa\u8be5\u6587\u4ef6"),Object(r.b)("li",{parentName:"ul"},"remoteUrl - url \u5730\u5740\uff0c\u5373\u4e4b\u524d\u7684 url"))),Object(r.b)("li",{parentName:"ul"},"\u6267\u884c CLI \u751f\u6210\u4ee3\u7801"),Object(r.b)("li",{parentName:"ul"},"CLI \u5bf9\u672c\u5730 swagger \u6587\u4ef6\u548c\u8fdc\u7a0b swagger \u6587\u4ef6\u8fdb\u884c DIFF",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\u6709\u5dee\u5f02",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u4eba\u5de5\u9009\u62e9\u9700\u8981\u540c\u6b65\u7684\u5dee\u5f02\uff0c\u70b9\u4fdd\u5b58"),Object(r.b)("li",{parentName:"ul"},"CLI patch delta"))),Object(r.b)("li",{parentName:"ul"},"\u65e0\u5dee\u5f02",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},"\u76f4\u63a5\u4e0b\u4e00\u6b65"))))),Object(r.b)("li",{parentName:"ul"},"CLI \u751f\u6210 service \u4ee3\u7801")))}C&&C===Object(C)&&Object.isExtensible(C)&&Object.defineProperty(C,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"README.mdx"}}),C.isMDXComponent=!0},"./update.md":function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return s}));var a=t("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=(t("./node_modules/react/index.js"),t("./node_modules/@mdx-js/react/dist/esm.js")),b={},r="wrapper";function s(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(i.b)(r,Object.assign({},b,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"\u98ce\u9669\u5904\u7f6e\u6307\u5357"},"\u98ce\u9669\u5904\u7f6e\u6307\u5357"),Object(i.b)("h2",{id:"\u6280\u672f\u65b9\u6848\u4ecb\u7ecd"},"\u6280\u672f\u65b9\u6848\u4ecb\u7ecd"),Object(i.b)("h3",{id:"\u5173\u952e\u8bcd"},"\u5173\u952e\u8bcd"),Object(i.b)("h4",{id:"tags"},"tags"),Object(i.b)("p",null,"\u751f\u6210\u4e0e tags \u4e00\u4e00\u5bf9\u5e94\u7684 service \u6587\u4ef6\uff0c\u6bd4\u5982 ",Object(i.b)("inlineCode",{parentName:"p"},'"User" => "UserApi.ts"')," - \u6240\u4ee5 tags \u4e00\u65e6\u8bbe\u5b9a\u4e0d\u8bb8\u66f4\u6539"),Object(i.b)("p",null,"\u5de5\u5177\u4e0d\u80fd\u5904\u7406\u4e2d\u6587 - \u6240\u4ee5\u8981\u6c42 tags \u5fc5\u987b\u4e3a\u82f1\u6587\uff0c\u6240\u4ee5 yapi \u9700\u8981\u4e2d\u82f1\u6587\u6620\u5c04"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'  "yapiConfig": {\n    "categoryMap": {\n      "\u4e2d\u6587": "English"\n    }\n  }\n')),Object(i.b)("h4",{id:"operationid"},"operationId"),Object(i.b)("p",null,"\u6bcf\u4e2a\u63a5\u53e3\u5168\u5c40\u552f\u4e00\u7684\u64cd\u4f5c id\uff0c\u901a\u8fc7 ",Object(i.b)("inlineCode",{parentName:"p"},"controller method name + Using + http method name"),"\uff0c\u51fa\u73b0\u91cd\u540d\u4f1a\u81ea\u589e\u4e00 - \u4f46\u987a\u5e8f\u4e0d\u53ef\u63a7\uff0c\u5de5\u5177\u901a\u8fc7 operationId \u751f\u6210\u63a5\u53e3\u8c03\u7528\u4ee3\u7801\uff0c\u56e0\u6b64\u5b58\u5728\u903b\u8f91\u9519\u4e71\u7684\u98ce\u9669\uff0c\u534f\u4f5c\u65b9\u65e0\u6cd5\u9884\u6d4b\u5e76\u544a\u77e5\u53d8\u52a8"),Object(i.b)("h4",{id:"safe"},"safe"),Object(i.b)("p",null,"\u57fa\u4e8e ",Object(i.b)("inlineCode",{parentName:"p"},"url + Using + http method")," \u751f\u6210 ",Object(i.b)("inlineCode",{parentName:"p"},"operationId")," - \u552f\u4e00\u4e14\u53ef\u63a7\uff0c\u4ee5\u4e0a\u56e0\u7d20\u7684\u53d8\u52a8\uff0c\u534f\u4f5c\u65b9\u6709\u901a\u77e5\u4e49\u52a1"),Object(i.b)("h4",{id:"strict"},"strict"),Object(i.b)("p",null,"\u5728 ",Object(i.b)("inlineCode",{parentName:"p"},"safe")," \u7684\u57fa\u7840\u4e0a\uff0c\u6dfb\u52a0\u5bf9 ",Object(i.b)("inlineCode",{parentName:"p"},"tags")," ",Object(i.b)("inlineCode",{parentName:"p"},"definitions")," \u547d\u540d\u89c4\u8303\u6821\u9a8c"),Object(i.b)("h4",{id:"dto"},"DTO"),Object(i.b)("p",null,"swagger \u5b9a\u4e49\u7684\u6570\u636e\u7ed3\u6784\uff0c\u5bf9\u5e94\u751f\u6210 typescript interface - \u5de5\u5177\u65e0\u6cd5\u5904\u7406\u4e2d\u6587\uff0c\u56e0\u6b64 DTO \u540d\u5b57\u5fc5\u987b\u662f\u82f1\u6587"),Object(i.b)("h4",{id:"params"},"params"),Object(i.b)("p",null,"\u53c2\u6570\u3001\u53d8\u91cf\u540d\u5fc5\u987b\u662f\u5c0f\u9a7c\u5cf0\u683c\u5f0f - \u53ca\u7b26\u5408\u524d\u7aef\u4ee3\u7801\u89c4\u8303\u3001\u5408\u6cd5\u7684\u53d8\u91cf\u540d\u3001\u5c5e\u6027\u540d"),Object(i.b)("h3",{id:"\u63a5\u53e3\u6587\u6863"},"\u63a5\u53e3\u6587\u6863"),Object(i.b)("h4",{id:"swagger"},"swagger"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-java"}),'  // \u63a7\u5236\u5668\n  @Api(tags="English", description="\u4e2d\u6587\u63cf\u8ff0") // tags \u7528\u4ee5\u751f\u6210 service \u5206\u7ec4\uff0c\u9ed8\u8ba4\u503c\u4e3a any-controller \u7c7b\u540d\n  class AnyController {\n    @ApiOperation(value="\u6982\u8ff0", notes="\u8be6\u7ec6\u63cf\u8ff0")\n    @ApiParam(name = "gender", value = "\u6027\u522b", required = true) // name \u5fc5\u987b\u4f7f\u7528\u5c0f\u9a7c\u5cf0\n    public doSomething() {} // \u751f\u6210 operationId\uff0c\u6bd4\u5982 doSomethingUsingGet_1, doSomethingUsingGet_2\n  }\n\n  // DTO\n  @Data\n  @ApiModel(value="English", description="\u7528\u6237\u57fa\u672c\u4fe1\u606f") // \u5fc5\u987b\u624b\u5199 value\uff0c\u4f7f\u7528[a-zA-Z0-9]\n  public class UserVO {}\n')),Object(i.b)("h4",{id:"mock"},"mock"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-shell"}),"  \u63a5\u53e3\u5206\u7c7b => tags\n")),Object(i.b)("h2",{id:"\u5904\u7f6e\u6307\u5357"},"\u5904\u7f6e\u6307\u5357"),Object(i.b)("h3",{id:"\u5347\u7ea7\u5de5\u5177"},"\u5347\u7ea7\u5de5\u5177"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-shell"}),"npm i -D @tkit/service // \u516c\u53f8\u5185 3.0.7+\nnpm i -D sm2tsservice  // \u516c\u53f8\u5916\u90e8 1.1.8+\n")),Object(i.b)("h3",{id:"\u5904\u7f6e\u65b9\u5f0f"},"\u5904\u7f6e\u65b9\u5f0f"),Object(i.b)("h4",{id:"\u516c\u5171\u903b\u8f91"},"\u516c\u5171\u903b\u8f91"),Object(i.b)("h5",{id:"\u53c2\u6570\u683c\u5f0f\u6821\u9a8c"},"\u53c2\u6570\u683c\u5f0f\u6821\u9a8c"),Object(i.b)("p",null,"\u5de5\u5177\u8981\u6c42\u65b0\u8001\u9879\u76ee\u53c2\u6570\u5fc5\u987b\u662f\u5c0f\u9a7c\u5cf0\u82f1\u6587\u683c\u5f0f\uff0c\u5426\u5219\u62a5\u9519\uff0c\u751f\u6210\u5931\u8d25"),Object(i.b)("h4",{id:"\u7279\u6b8a\u903b\u8f91"},"\u7279\u6b8a\u903b\u8f91"),Object(i.b)("p",null,"\u901a\u8fc7 ",Object(i.b)("inlineCode",{parentName:"p"},"mode")," \u63a7\u5236\u5de5\u5177\u7684\u884c\u4e3a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'{\n  "guardConfig": {\n    "mode": "strict" | "safe" | undefined\n  }\n}\n')),Object(i.b)("h5",{id:"\u7ef4\u6301\u73b0\u72b6"},"\u7ef4\u6301\u73b0\u72b6"),Object(i.b)("p",null,"\u8001\u9879\u76ee\uff0c\u4e0d\u914d\u7f6e ",Object(i.b)("inlineCode",{parentName:"p"},"mode"),"\uff0c\u91cd\u65b0\u751f\u6210 service \u4ee3\u7801\uff0c\u5982\u679c\u68c0\u6d4b\u5230\u98ce\u9669 operationId\uff0c\u5219\u629b\u51fa\u9519\u8bef\u751f\u6210\u5931\u8d25\uff0c\u8f93\u51fa\u6620\u5c04\u5173\u7cfb\uff0c\u8bf7\u624b\u52a8\u5c06\u63d0\u793a\u6dfb\u52a0\u5230\u914d\u7f6e\u6587\u4ef6\u5185\uff0c\u5e76\u63d0\u4ea4\u5230\u4ed3\u5e93\uff0c\u5982\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'  "guardConfig": {\n    "methodUrl2OperationIdMap": {\n      {\n        "get /api/xxx/xxx": "operationId",\n        ...\n      }\n    }\n  }\n')),Object(i.b)("p",null,"\u540e\u7eed\u6709\u4efb\u4f55\u53d8\u52a8\u7684\u65f6\u5019\uff0c\u5de5\u5177\u4f1a\u6839\u636e\u672c\u5730\u5df2\u6709\u6620\u5c04\u5173\u7cfb\u5bf9 swagger \u8fd4\u56de ",Object(i.b)("inlineCode",{parentName:"p"},"operationId")," \u8fdb\u884c\u6821\u6b63\uff0c\u5e76\u5bf9\u589e\u5220\u6539\u505a\u51fa\u68c0\u6d4b\u63d0\u793a\uff0c\u786e\u4fdd\u4e1a\u52a1\u903b\u8f91\u4e0d\u53d7\u5f71\u54cd"),Object(i.b)("font",{color:"red"},"\u8b66\u544a"),Object(i.b)("blockquote",null,Object(i.b)("ul",{parentName:"blockquote"},Object(i.b)("li",{parentName:"ul"},"@tkit/service@3.0.7 sm2tservice@1.1.8 \u672c\u8eab\u53ca\u4ee5\u4e0b\uff0c\u4ec5\u80fd\u786e\u4fdd\u521d\u6b21\u7ed9\u51fa\u7684\u6620\u5c04\u5efa\u8bae\u6b63\u786e"),Object(i.b)("li",{parentName:"ul"},"\u540e\u7eed\u7ed9\u51fa\u589e\u91cf\u6620\u5c04\u5173\u7cfb\uff0c\u52a1\u5fc5\u4eba\u5de5\u786e\u4fdd\u65b0\u589e\u6620\u5c04 ",Object(i.b)("inlineCode",{parentName:"li"},"operationId")," \u4e0d\u4e0e\u8001\u6620\u5c04 ",Object(i.b)("inlineCode",{parentName:"li"},"operationId")," \u91cd\u590d\uff0c\u6821\u6b63\u4e3a\u4efb\u4e00\u4e0d\u91cd\u590d\u6709\u8bed\u4e49\u503c\u5373\u53ef\uff0c\u5efa\u8bae ",Object(i.b)("inlineCode",{parentName:"li"},"url + Using + http method")," - \u5426\u5219\u53ef\u80fd\u4f1a\u62a5 java ",Object(i.b)("inlineCode",{parentName:"li"},"overload")," \u9519\u8bef\uff0c\u4e14\u540e\u7eed\u65e0\u6cd5\u5347\u7ea7\u5230 ",Object(i.b)("inlineCode",{parentName:"li"},"safe")," \u6a21\u5f0f"),Object(i.b)("li",{parentName:"ul"},"\u6216\u8bf7\u5347\u7ea7\u5230 @tkit/service@3.0.8+ sm2tservice@1.1.9+"))),Object(i.b)("h5",{id:"\u5b89\u5168\u6a21\u5f0f"},"\u5b89\u5168\u6a21\u5f0f"),Object(i.b)("p",null,"\u8001\u9879\u76ee\uff0c\u4e5f\u53ef\u4ee5\u914d\u7f6e ",Object(i.b)("inlineCode",{parentName:"p"},"mode")," \u4e3a ",Object(i.b)("inlineCode",{parentName:"p"},'"safe"'),"\uff0c\u5219\u5de5\u5177\u4f1a\u57fa\u4e8e ",Object(i.b)("inlineCode",{parentName:"p"},"url + Using + http method")," \u751f\u6210\u65b0\u7684 ",Object(i.b)("inlineCode",{parentName:"p"},"operationId")," \u4ee5\u751f\u6210\u66f4\u5b89\u5168\u548c\u8bed\u4e49\u5316\u7684\u63a5\u53e3\u8c03\u7528\u4ee3\u7801\uff0c\u4f46\u9700\u6ee1\u8db3"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u5df2\u4fdd\u5b58 ",Object(i.b)("inlineCode",{parentName:"li"},"methodUrl2OperationIdMap")," \u6620\u5c04\u5173\u7cfb\u9501\u5b9a"),Object(i.b)("li",{parentName:"ul"},"\u4eba\u5de5\u66f4\u65b0 service \u8c03\u7528")),Object(i.b)("p",null,"\u5de5\u5177\u4f1a\u81ea\u52a8\u751f\u6210 ",Object(i.b)("inlineCode",{parentName:"p"},"\u65e7\u63a5\u53e3\u8c03\u7528")," => ",Object(i.b)("inlineCode",{parentName:"p"},"\u65b0\u63a5\u53e3\u8c03\u7528")," \u6620\u5c04\u5173\u7cfb\uff0c\u8bf7\u81ea\u4e0a\u800c\u4e0b\u4f9d\u6b21\u5168\u5c40\u66ff\u6362\u5373\u53ef\uff0c\u5982\uff1a"),Object(i.b)("pre",null,Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-js"}),'{\n  "getUserNameUsingGet_2": "getUserNameUsingGet",\n  "getUserNameUsingGet_1": "getNameUsingGet",\n}\n')),Object(i.b)("h5",{id:"\u4e25\u683c\u6a21\u5f0f"},"\u4e25\u683c\u6a21\u5f0f"),Object(i.b)("p",null,"\u65b0\u9879\u76ee\uff0c\u4e00\u5f8b\u914d\u7f6e ",Object(i.b)("inlineCode",{parentName:"p"},"mode")," \u4e3a ",Object(i.b)("inlineCode",{parentName:"p"},'"strict"'),"\uff0c\u91c7\u7528 ",Object(i.b)("inlineCode",{parentName:"p"},'"safe"')," \u76f8\u540c\u7684 ",Object(i.b)("inlineCode",{parentName:"p"},"operationId")," \u751f\u6210\u7b56\u7565"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u8981\u6c42 swagger \u6587\u6863 ",Object(i.b)("inlineCode",{parentName:"li"},"tags")," ",Object(i.b)("inlineCode",{parentName:"li"},"definitions")," ",Object(i.b)("inlineCode",{parentName:"li"},"params")," \u7b26\u5408\u547d\u540d\u89c4\u8303"),Object(i.b)("li",{parentName:"ul"},"\u3010\u6682\u65f6\u3011\u4ecd\u8981\u6c42\u5148\u4fdd\u5b58 ",Object(i.b)("inlineCode",{parentName:"li"},"methodUrl2OperationIdMap")," \u6620\u5c04\u5173\u7cfb\u9501\u5b9a\uff0c\u518d\u91cd\u65b0\u751f\u6210"),Object(i.b)("li",{parentName:"ul"},"\u53ef\u76f4\u63a5\u5ffd\u7565\u65e7\u3001\u65b0\u63a5\u53e3\u8c03\u7528\u6620\u5c04\u5173\u7cfb\u63d0\u793a")))}s&&s===Object(s)&&Object.isExtensible(s)&&Object.defineProperty(s,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"update.md"}}),s.isMDXComponent=!0}}]);
//# sourceMappingURL=readme.3e868164602a8e8ef277.js.map